\documentclass[letterpaper,10pt,headsepline]{scrbook}
\usepackage[T1]{fontenc} 
\usepackage{natbib}
\usepackage{supertabular}
\usepackage{epsfig}
\usepackage{ifthen}
\usepackage{index}
\usepackage[backref,colorlinks]{hyperref}
\usepackage{listings}
\usepackage{verbatim}
\usepackage{hyphenat}
\usepackage{ragged2e}
\usepackage[acronym]{glossaries}
\usepackage{color}
\usepackage{tensor}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{bm}

% Adaptive labelling.
\makeatletter
\newcommand{\iflabelexists}[3]{\@ifundefined{r@#1}{#3}{#2}}
\makeatother

% Table of contents
\setcounter{tocdepth}{5}

% Margins.
\setlength{\topmargin}{0mm}
\setlength{\textwidth}{160mm}
\setlength{\textheight}{210mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}

% Names
\def\glc{{\normalfont \scshape Galacticus}}

% Physical constants.
\def\G{\mathrm{G}}
\def\clight{\mathrm{c}}
\def\d{\mathrm{d}}
\def\e{\mathrm{e}}

% Variable specifiers.
\def\void{\textcolor{red}{\textless void\textgreater}}
\def\logicalzero{\textcolor{red}{\textless logical\textgreater}}
\def\logicalone{\textcolor{red}{\textless logical(:)\textgreater}}
\def\logicaltwo{\textcolor{red}{\textless logical(:,:)\textgreater}}
\def\intzero{\textcolor{red}{\textless integer\textgreater}}
\def\intone{\textcolor{red}{\textless integer(:)\textgreater}}
\def\inttwo{\textcolor{red}{\textless integer(:,:)\textgreater}}
\def\doublezero{\textcolor{red}{\textless double\textgreater}}
\def\doubleone{\textcolor{red}{\textless double(:)\textgreater}}
\def\doubletwo{\textcolor{red}{\textless double(:,:)\textgreater}}
\def\doublethree{\textcolor{red}{\textless double(:,:,:)\textgreater}}
\def\enum{\textcolor{red}{\textless enumeration\textgreater}}
\def\argin{\textcolor{blue}{$\rightarrow$}}
\def\arginout{\textcolor{blue}{$\leftrightarrow$}}
\def\argout{\textcolor{blue}{$\leftarrow$}}
\include{autoEnumerationSpecifiers}
\include{dataEnumerationSpecifiers}

\makeglossary
\glstoctrue
\makeindex
\newindex{code}{cdx}{cnd}{Code Index}

\include{Glossary}

\begin{document}

\lstset{language=[95]Fortran}

\frontmatter

\pagestyle{empty}
\begin{center}
\includegraphics[width=125mm]{GalacticusLogo.png}\\

\includegraphics{New_Logo_Galaxy_192_Transparent.png}\\
A semi-analytic galaxy formation code.\\

\copyright\ 2009, 2010 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020 Andrew Benson
\end{center}

\tableofcontents

\mainmatter
\pagestyle{headings}

\part{Installation and Basic Use}

\include{About}

\include{Running}

\include{Parameters}

\include{Analyze}

\include{Input_Data}

\include{Tutorials}

\include{Numerics}

\part{Advanced Use}

\include{Constraints}

\part{Physical Implementation}

In this Part we describe the physical implementation of galaxy formation in \glc, including all components and their properties and additional output quantities from the code.

\include{Definitions}

\include{Components}

\include{Physics}

\include{Additional_Outputs}

\part{Development}

In this Part we focus on how to modify \glc\ to meet your own needs. \glc\ is designed in a modular way to make it as simple as possible to introduce new implementations of physical processes or new galactic components without breaking the rest of the code. Nevertheless, some understanding of the structure of the code is necessary. In particular, \glc\ will happily compile and run calculations that make no physical sense whatsoever---it's up to you to ensure that the changes you make are physically reasonable and consistent with the behavior of the rest of the code.

\include{Development}

\include{Coding}

\include{Methods}

\include{Auxilliary}

\include{Source_Documentation}

\part{Contributions and Acknowledgements}

\include{contributions}

\include{Acknowledgements}

\appendix

\part{Appendices}

\chapter{Merger Tree Files}

\glc\ uses a standardized HDF5 file structure for merger tree data which allows for portability, and extensibility. The definition of the file format can be found \href{https://github.com/galacticusorg/galacticus/wiki/Merger-Tree-File-Format}{here}.

\include{MergerTreeBuilder}

\include{Plotting}

\backmatter

\bibliographystyle{plainnat}
\bibliography{GalacticusAccented}

\printglossaries

\citeindextrue
\printindex
\printindex[code]

\end{document}
